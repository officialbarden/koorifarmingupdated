playsound minecraft:ui.toast.challenge_complete master @a[distance=..3] ~ ~ ~ 1 2 0
playsound minecraft:entity.bat.takeoff master @s ~ ~ ~ 1 1 1

title @s actionbar ["",{"text":"Q","color":"#DCFFBF"},{"text":"u","color":"#D1FFBE"},{"text":"e","color":"#C7FFBE"},{"text":"s","color":"#BDFFBD"},{"text":"t ","color":"#B3FFBD"},{"text":"C","color":"#A8FFBC"},{"text":"o","color":"#9EFEBC"},{"text":"m","color":"#94FFBC"},{"text":"p","color":"#8AFFBB"},{"text":"l","color":"#80FFBB"},{"text":"e","color":"#75FFBA"},{"text":"t","color":"#6BFFBA"},{"text":"e","color":"#61FFB9"},{"text":"d","color":"#57FFB9"},{"text":"! ","color":"#4DFFB9"},{"text":"C","color":"#FFBFBF"},{"text":"h","color":"#FEC0B7"},{"text":"e","color":"#FEC2AF"},{"text":"c","color":"#FEC3A8"},{"text":"k ","color":"#FEC5A0"},{"text":"y","color":"#FEC798"},{"text":"o","color":"#FDC891"},{"text":"u","color":"#FDCA89"},{"text":"r ","color":"#FDCC81"},{"text":"l","color":"#FDCD7A"},{"text":"i","color":"#FDCF72"},{"text":"s","color":"#FCD16A"},{"text":"t ","color":"#FCD263"},{"text":"f","color":"#FCD45B"},{"text":"o","color":"#FCD554"},{"text":"r ","color":"#FCD74C"},{"text":"n","color":"#FBD944"},{"text":"e","color":"#FBDA3D"},{"text":"w ","color":"#FBDC35"},{"text":"q","color":"#FBDE2D"},{"text":"u","color":"#FBDF26"},{"text":"e","color":"#FAE11E"},{"text":"s","color":"#FAE316"},{"text":"t","color":"#FAE40F"},{"text":"s","color":"#FAE607"},{"text":".","color":"#FAE800"}]
tellraw @s ["",{"text":"Q","color":"#DCFFBF"},{"text":"u","color":"#D1FFBE"},{"text":"e","color":"#C7FFBE"},{"text":"s","color":"#BDFFBD"},{"text":"t ","color":"#B3FFBD"},{"text":"C","color":"#A8FFBC"},{"text":"o","color":"#9EFEBC"},{"text":"m","color":"#94FFBC"},{"text":"p","color":"#8AFFBB"},{"text":"l","color":"#80FFBB"},{"text":"e","color":"#75FFBA"},{"text":"t","color":"#6BFFBA"},{"text":"e","color":"#61FFB9"},{"text":"d","color":"#57FFB9"},{"text":"! ","color":"#4DFFB9"},{"text":"C","color":"#FFBFBF"},{"text":"h","color":"#FEC0B7"},{"text":"e","color":"#FEC2AF"},{"text":"c","color":"#FEC3A8"},{"text":"k ","color":"#FEC5A0"},{"text":"y","color":"#FEC798"},{"text":"o","color":"#FDC891"},{"text":"u","color":"#FDCA89"},{"text":"r ","color":"#FDCC81"},{"text":"l","color":"#FDCD7A"},{"text":"i","color":"#FDCF72"},{"text":"s","color":"#FCD16A"},{"text":"t ","color":"#FCD263"},{"text":"f","color":"#FCD45B"},{"text":"o","color":"#FCD554"},{"text":"r ","color":"#FCD74C"},{"text":"n","color":"#FBD944"},{"text":"e","color":"#FBDA3D"},{"text":"w ","color":"#FBDC35"},{"text":"q","color":"#FBDE2D"},{"text":"u","color":"#FBDF26"},{"text":"e","color":"#FAE11E"},{"text":"s","color":"#FAE316"},{"text":"t","color":"#FAE40F"},{"text":"s","color":"#FAE607"},{"text":".","color":"#FAE800"}]

setblock 0 301 0 shulker_box
$loot insert 0 301 0 loot $(reward_lt)
execute store result storage kq:names Names.reward_coins int 1 run data get block 0 301 0 Items[0].components."minecraft:custom_data".Amount
setblock 0 301 0 air
function kq:list/reward/check/2 with storage kq:names Names


$execute if data storage kq:quests {players:[{username:$(username),quests:[{ID:$(ID),type:"collect_items",subject:$(subject)}]}]} run clear @s $(subject) $(goal)

$data remove storage kq:quests players[{username:$(username)}].quests[{ID:$(ID)}]

scoreboard players add @s kq.TotalQuestsCompleted 1
tellraw @s ["",{"text":"Koori Quests >> Y","color":"#BBFFB0"},{"text":"o","color":"#B7FFB1"},{"text":"u","color":"#B3FFB3"},{"text":"'","color":"#AFFFB5"},{"text":"v","color":"#ABFFB6"},{"text":"e ","color":"#A7FFB8"},{"text":"c","color":"#A3FFBA"},{"text":"o","color":"#9FFFBC"},{"text":"m","color":"#9BFFBD"},{"text":"p","color":"#97FFBF"},{"text":"l","color":"#93FFC1"},{"text":"e","color":"#90FFC3"},{"text":"t","color":"#8CFFC4"},{"text":"e","color":"#88FFC6"},{"text":"d ","color":"#84FFC8"},{"score":{"name":"@s","objective":"kq.TotalQuestsCompleted"},"color":"#80FFC9"},{"text":" q","color":"#7CFFCB"},{"text":"u","color":"#78FFCD"},{"text":"e","color":"#74FFCF"},{"text":"s","color":"#70FFD0"},{"text":"t","color":"#6CFFD2"},{"text":"s","color":"#68FFD4"},{"text":"!","color":"#65FFD6"}]
function kq:list/generate_quest/1